(()=>{"use strict";const e=document.body,t={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}};t.any()?e.classList.add("_touch"):e.classList.add("_pc"),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();const n=document.querySelector("body");let r=document.querySelector(".menu__burger"),c=document.querySelector(".menu__body"),i=document.querySelector(".header__container");r.addEventListener("click",(function(e){r.classList.contains("_active")?(r.classList.remove("_active"),c.classList.remove("_active"),i.classList.remove("_active"),n.classList.remove("_lock"),n.paddingRight=""):(r.classList.add("_active"),c.classList.add("_active"),i.classList.add("_active"),function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth;n.classList.add("_lock"),n.paddingRight=e+"px"}()),e.preventDefault()}));let a=document.querySelectorAll("[data-spoller]");a.length>0&&a.forEach((e=>{e.addEventListener("click",(function(t){let n=t.target,r=document.querySelector(`${n.dataset.spoller}`);r.classList.toggle("_active"),r.classList.contains("_active")?(r.style.height=r.scrollHeight+"px",e.closest("div").classList.add("_active")):(r.style.height=0,e.closest("div").classList.remove("_active")),t.preventDefault()}))}));const o=document.querySelectorAll(".range-descriptor__arrow"),s=document.querySelector(".descriptor-main__showhide");o.length>0&&o.forEach((e=>{e.addEventListener("click",(function(t){let n=document.querySelector(`.${e.id}`);e.classList.toggle("_active"),e.classList.contains("_active")?(n.classList.add("_active"),"sub-range"==e.id&&s.classList.add("_margin")):(n.classList.remove("_active"),"sub-range"==e.id&&s.classList.remove("_margin"))}))}));const l=document.querySelectorAll(".sub-range__action"),d=document.querySelector(".range-descriptor__input_persons .range-descriptor__field");if(l.length>0){let e=0;l.forEach((t=>{t.addEventListener("pointerdown",(function(t){let n=t.target.parentElement.querySelector("input");t.target.classList.contains("sub-range__action_plus")?(++n.value,d.value="Количество персон: "+ ++e):n.value>0&&(--n.value,d.value="Количество персон: "+--e),t.preventDefault()}))}))}const u=document.querySelectorAll(".slider-descriptor__inputs input"),m=document.querySelector(".slider-descriptor__progress");u.length>0&&u.forEach((e=>{e.addEventListener("input",(function(e){let t=parseInt(u[0].value),n=parseInt(u[1].value),r=document.querySelector(".slider-descriptor__prop_min span"),c=document.querySelector(".slider-descriptor__prop_max span");n-t<=1?e.target.closest(".slider-descriptor__inputs_min")?u[0].value=n-1:u[1].value=t+1:(r.textContent=`${t}`,c.textContent=`${n}`,m.style.left=(t-u[0].min)/(u[0].max-u[0].min)*100+"%",m.style.right=100-(n-u[1].min)/(u[1].max-u[1].min)*100+"%")}))}));const _=document.forms["main-header"];_.addEventListener("submit",(function(e){!function(e){let t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div");t.className="_div",n.className="_inner-div",r.className="_close",t.textContent=e.value,e.before(t),t.append(n),n.append(r),e.value="",e.placeholder="",r.addEventListener("click",(function(){t.remove(),document.querySelector("._div")||(e.placeholder="Страна, город, регион, отель")}))}(_.elements.searchField),e.preventDefault()}));const v=document.querySelector(".header__body");window.addEventListener("scroll",(function(){window.pageYOffset>=512&&n.classList.contains("_touch")?v.style.backgroundColor="rgb(235, 231, 231)":v.style.backgroundColor="#fff"}))})();